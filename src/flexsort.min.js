!function(a){function f(a){for(var b in a){var e=a[b]+"";if(e)if(b in d){if(b in c&&!(a[b]in c[b]))continue;switch(valid=!1,b){default:valid=!0}valid&&(d[b]=a[b])}else if("data"==b){var f=0;for(var h in a[b]){for(var i in a[b][h])i=Number(i),g(a[b][h][i],i,f);f++}}}}function g(a,b,c){0==b&&(e.data[c]=new Array),a+="";for(var d=["Â£","$"],f=0;f<d.length;f++)if(a.substring(0,1)==d[f]){e.currency_columns[b]=a.substring(0,1),a=a.substr(1,a.length);var g=Number(a)}if(!isNaN(a)&&i(g))var g=Number(a);g&&!isNaN(g)?e.data[c][b]=g:e.data[c][b]=a}function h(c){null==c&&(c=""),b.addClass("FlexSort");var h=e.data.length,k=b.find("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name).length-1;b.find("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name).each(function(){var b=this.className.split(/\s+/);i(c.columns)&&a(this).closest("div."+d.row_name).hasClass(d.header_row_class)&&d.columns.push(b[1]),e.columns.push(b[1])}),b.find("div."+d.row_name).not("."+d.header_row_class).find(" div."+d.column_name).each(function(b){var c=a(this).index(),d=a(this).text();g(d,c,h),c===k&&h++}),b.find("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name).each(function(){for(var b=a(this),c=b.attr("class").split(/\s+/),e=0;e<d.columns.length;e++)if(c[1]==d.columns[e]){b.click(function(){j(b)});break}})}function i(a){var b=a+"";return!b||null==a}function j(b){var c=b.attr("class").split(/\s+/),e=b.index(),f=["asc","desc"],g=!1;a("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name).not(b).removeClass("desc asc");for(var h in c)a.each(f,function(a,d){if(c[h]==d){switch(d){case"asc":k(!1,e),b.removeClass("asc").addClass("desc");break;case"desc":k(!0,e),b.removeClass("desc").addClass("asc")}g=!0}});g||(k(!0,e),b.addClass("asc")),l()}function k(a,b){a?e.data=e.data.sort(function(a,c){return a[b]>c[b]}):e.data=e.data.sort(function(a,c){return a[b]<c[b]})}function l(){a(b).children("div."+d.row_name).not("."+d.header_row_class).remove(),a(b).find("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name+" div.arrow").remove();for(var c in e.data){for(var f='<div class="'+d.row_name+'">',g=0;g<e.data[c].length;g++)f+='<div class="'+d.column_name+" "+e.columns[g]+'">',g in e.currency_columns&&(f+=e.currency_columns[g]),f+=e.data[c][g]+"</div>";f+="</div>",a(b).append(f)}a(b).find("div."+d.row_name+"."+d.header_row_class+" div."+d.column_name).each(function(){(a(this).hasClass("asc")||a(this).hasClass("desc"))&&(a(this).append('<div class="arrow"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z"/></svg></div>'),a(this).hasClass("asc")?a(this).find("div.arrow svg").addClass("asc"):a(this).find("div.arrow svg").addClass("desc"))})}var b,c={},d={row_name:"table-row",column_name:"column",header_row_class:"header",columns:[]},e={columns:[],data:[],currency_columns:{}};a.fn.flexsort=function(c){b=a(this),f(c),h(c),l()}}(jQuery);
